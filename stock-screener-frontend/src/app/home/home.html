<div class="container">
  <div class="form-group">
    <input type="url" id="url" [ngModel]="url()" (ngModelChange)="url.set($event)" class="form-control" placeholder="Enter URL to be added" (keydown.enter)="onEnterKey($event)" required>
    @if (errorMessage()) {
      <div class="alert alert-danger mt-2">{{ errorMessage() }}</div>
    }
  </div>

  <h2 class="mt-4">Description Links</h2>
  <table class="table table-striped">
    <thead>
      <tr>
        <!-- <th>ID</th> -->
        <th>Description</th>
        <th>Link</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      @for (link of links(); track link.id) {
      <tr>
        <!-- <td>{{ link.id }}</td> -->
        <td (dblclick)="onDoubleClick(link)">
          @if (editingLinkId === link.id) {
            <input type="text" [ngModel]="editingDescription()" (ngModelChange)="editingDescription.set($event)" (blur)="saveDescription()" (keydown.enter)="saveDescription()" (keydown.escape)="cancelEdit()" class="form-control" style="display: inline-block; width: auto;">
          } @else {
            {{ link.description }}
          }
        </td>
        <td><a [href]="link.url">{{ link.url }}</a></td>
        <td><button class="btn btn-sm btn-outline-danger" style="font-size: 12px; padding: 2px 6px;" (click)="deleteLink(link.id)">DELETE</button></td>
      </tr>
      }
    </tbody>
  </table>
</div>
